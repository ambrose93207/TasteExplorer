<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="zh-TW"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;title&gt;EatExplorer - å··å¼„æ¢ç´¢&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- æ ¸å¿ƒæ¨£å¼ï¼š100% é‚„åŸåŸæœ¬è¨­å®š --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>:root {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--primary-orange: #FF6600;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--glass-bg: rgba(25, 25, 25, 0.85);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--glass-border: rgba(255, 255, 255, 0.15);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--input-bg: rgba(255, 255, 255, 0.1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--text-color: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--label-color: #cccccc;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--accent-yellow: #FFCC00;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>html, body { overscroll-behavior-y: none; height: 100%; overflow: hidden; position: fixed; width: 100%; margin: 0; padding: 0; background-color: #000; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>html { font-size: 14px; }<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: -apple-system, "SF Pro Text", "Helvetica Neue", sans-serif; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>body { color: #fff; display: flex; align-items: center; justify-content: center; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>#bg-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.bg-slide { position: absolute; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0; transition: opacity 1s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.bg-slide.active { opacity: 0.6; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.container { width: 95%; max-width: 357px; height: 100dvh; z-index: 10; display: flex; flex-direction: column; justify-content: space-between; align-items: center; transition: filter 0.5s ease, transform 0.5s ease; padding: 20px 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.container.blur-mode { filter: blur(15px) brightness(0.4); transform: scale(0.95); pointer-events: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.header { width: 100%; flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.logo { font-size: 2.77rem; font-weight: 800; color: var(--primary-orange); line-height: 1.2; letter-spacing: -1px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.tagline { font-size: 1.2rem; opacity: 0.8; margin-top: 6px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.glass-card { width: 100%; background: rgba(20, 20, 20, 0.75); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: 20px; padding: 18px; border: 1px solid var(--glass-border); text-align: left; flex-shrink: 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.full-width { grid-column: span 2; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>label { font-size: 0.75rem; color: var(--label-color); margin-bottom: 4px; display: block; font-weight: 600; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.input-box { background: var(--input-bg); border-radius: 10px; height: 38px; display: flex; align-items: center; padding: 0 10px; border: 1px solid transparent; transition: 0.3s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.input-box:focus-within { border-color: var(--primary-orange); box-shadow: 0 0 8px rgba(255, 102, 0, 0.3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>select { background: transparent; border: none; color: white; width: 100%; outline: none; font-size: 0.85rem; appearance: none; cursor: pointer; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>select option { background-color: #222; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.toggle-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.toggle-btn { background: var(--input-bg); height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; cursor: pointer; border: 1px solid transparent; font-size: 0.85rem; transition: 0.3s; user-select: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.toggle-btn.selected { background: rgba(255,102,0,0.2); border-color: var(--primary-orange); color: var(--primary-orange); font-weight: bold; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>#btn-open.selected { background: rgba(46,204,113,0.15); border-color: #2ecc71; color: #2ecc71; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.footer-action { width: 100%; flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.cta-button { width: 100%; background: linear-gradient(180deg, #FF8533, #FF6600); border: none; padding: 16px; font-weight: 700; border-radius: 16px; color: #fff; cursor: pointer; font-size: 1.1rem; box-shadow: 0 4px 15px rgba(255, 102, 0, 0.4); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.cta-button:disabled { background: linear-gradient(180deg, #888, #666); cursor: not-allowed; box-shadow: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.usage-hint { font-size: 0.85rem; margin-top: 10px; opacity: 0.7; color: #fff; font-weight: 500; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>#loader { display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 9999; flex-direction: column; align-items: center; justify-content: center; background: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.spinner { width: 50px; height: 50px; border: 5px solid rgba(255,102,0,0.1); border-top-color: var(--primary-orange); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>@keyframes spin { to { transform: rotate(360deg); } }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>#swiper-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; display: none; flex-direction: column; align-items: center; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.card-stack { width: 100%; max-width: 340px; height: 100%; display: flex; flex-direction: column; align-items: center; overflow-y: auto; padding: 20px 0 120px 0; gap: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.swipe-card-wrapper { width: 92%; flex-shrink: 0; transition: transform 0.4s ease, opacity 0.4s ease; touch-action: pan-y; position: relative; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.swipe-card { width: 100%; background: var(--glass-bg); border-radius: 24px; border: 1px solid var(--glass-border); padding: 20px; display: flex; flex-direction: column; gap: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative; overflow: hidden; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.stamp { position: absolute; top: 20px; padding: 5px 15px; border: 4px solid; border-radius: 8px; font-size: 2rem; font-weight: 900; opacity: 0; pointer-events: none; z-index: 10; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.stamp-like { left: 20px; color: #2ecc71; border-color: #2ecc71; transform: rotate(-15deg); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.stamp-nope { right: 20px; color: #e74c3c; border-color: #e74c3c; transform: rotate(15deg); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.swipe-card h3 { color: var(--primary-orange); font-size: 1.4rem; font-weight: 800; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.card-badges { display: flex; gap: 6px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.card-badge { padding: 3px 10px; border-radius: 6px; font-size: 0.75rem; font-weight: bold; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.badge-rating { background: var(--accent-yellow); color: #000; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.badge-price { background: rgba(255,255,255,0.1); color: #eee; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.info-row { font-size: 0.85rem; display: flex; gap: 6px; color: #ddd; line-height: 1.4; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.info-label { color: var(--primary-orange); font-weight: bold; flex-shrink: 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.card-summary { font-size: 0.88rem; font-style: italic; opacity: 0.85; border-left: 2px solid var(--primary-orange); padding-left: 10px; margin: 5px 0; line-height: 1.4; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.card-map-btn { background: var(--primary-orange); color: #fff; text-decoration: none; padding: 12px; border-radius: 14px; text-align: center; font-weight: bold; margin-top: 10px; font-size: 0.95rem; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.close-swiper { position: fixed; bottom: 40px; background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 12px 30px; border-radius: 50px; cursor: pointer; z-index: 120; font-weight: bold; backdrop-filter: blur(10px); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>#round-info { background: rgba(255, 102, 0, 0.2); border: 1px solid var(--primary-orange); padding: 8px 20px; border-radius: 50px; margin-top: 30px; margin-bottom: 10px; font-weight: bold; z-index: 110; pointer-events: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body touch-action="none"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="bg-container"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="container" id="main-ui"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="header"&gt;&lt;div class="logo"&gt;EatExplorer&lt;/div&gt;&lt;div class="tagline"&gt;æ¢ç´¢å…¨å°éš±è—ç¾å‘³ï¼Œäº«å—æ¥µè‡´é¥—å®´&lt;/div&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="glass-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group"&gt;&lt;label&gt;ğŸ“ ç¸£å¸‚&lt;/label&gt;&lt;div class="input-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="city" onchange="updateDistricts(); checkTransAvailability();"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="åŒ—éƒ¨åœ°å€"&gt;&lt;option value="Taipei" selected&gt;å°åŒ—å¸‚&lt;/option&gt;&lt;option value="NewTaipei"&gt;æ–°åŒ—å¸‚&lt;/option&gt;&lt;option value="Keelung"&gt;åŸºéš†å¸‚&lt;/option&gt;&lt;option value="Taoyuan"&gt;æ¡ƒåœ’å¸‚&lt;/option&gt;&lt;option value="HsinchuCity"&gt;æ–°ç«¹å¸‚&lt;/option&gt;&lt;option value="HsinchuCounty"&gt;æ–°ç«¹ç¸£&lt;/option&gt;&lt;option value="Yilan"&gt;å®œè˜­ç¸£&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="ä¸­éƒ¨åœ°å€"&gt;&lt;option value="Miaoli"&gt;è‹—æ —ç¸£&lt;/option&gt;&lt;option value="Taichung"&gt;å°ä¸­å¸‚&lt;/option&gt;&lt;option value="Changhua"&gt;å½°åŒ–ç¸£&lt;/option&gt;&lt;option value="Nantou"&gt;å—æŠ•ç¸£&lt;/option&gt;&lt;option value="Yunlin"&gt;é›²æ—ç¸£&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="å—éƒ¨åœ°å€"&gt;&lt;option value="ChiayiCity"&gt;å˜‰ç¾©å¸‚&lt;/option&gt;&lt;option value="ChiayiCounty"&gt;å˜‰ç¾©ç¸£&lt;/option&gt;&lt;option value="Tainan"&gt;å°å—å¸‚&lt;/option&gt;&lt;option value="Kaohsiung"&gt;é«˜é›„å¸‚&lt;/option&gt;&lt;option value="Pingtung"&gt;å±æ±ç¸£&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="æ±éƒ¨èˆ‡é›¢å³¶"&gt;&lt;option value="Hualien"&gt;èŠ±è“®ç¸£&lt;/option&gt;&lt;option value="Taitung"&gt;å°æ±ç¸£&lt;/option&gt;&lt;option value="Penghu"&gt;æ¾æ¹–ç¸£&lt;/option&gt;&lt;option value="Kinmen"&gt;é‡‘é–€ç¸£&lt;/option&gt;&lt;option value="Lienchiang"&gt;é€£æ±Ÿç¸£&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group"&gt;&lt;label&gt;ğŸ™ï¸ è¡Œæ”¿å€&lt;/label&gt;&lt;div class="input-box"&gt;&lt;select id="district" onchange="checkTransAvailability();"&gt;&lt;option&gt;å…¨å€&lt;/option&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group full-width"&gt;&lt;label&gt;ğŸš† äº¤é€šåå¥½&lt;/label&gt;&lt;div class="input-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="transport" onchange="checkTransAvailability()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="none" selected&gt;ğŸ¤·â€â™‚ï¸ ä¸æ‹˜&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="mrt"&gt;ğŸš‡ é„°è¿‘æ·é‹ç«™&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="hsr"&gt;ğŸš„ é„°è¿‘é«˜éµç«™&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="train"&gt;ğŸš‚ é„°è¿‘ç«è»Šç«™&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="airport"&gt;âœˆï¸ é„°è¿‘æ©Ÿå ´&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group full-width" id="mrt-section" style="display:none;"&gt;&lt;label id="trans-label"&gt;ğŸš‰ æŒ‡å®šç«™é»&lt;/label&gt;&lt;div class="input-box"&gt;&lt;select id="mrt-station"&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group full-width"&gt;&lt;label&gt;ğŸ¤¤ æƒ³åƒä»€éº¼ï¼Ÿ&lt;/label&gt;&lt;div class="input-box"&gt;&lt;select id="food"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="all"&gt;å…¨éƒ¨ (ä»€éº¼éƒ½æƒ³åƒ)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="ğŸ”¥ ç†±é–€ç²¾é¸"&gt;&lt;option value="hotpot"&gt;ç«é‹ / éº»è¾£é‹ / æ¶®æ¶®é‹&lt;/option&gt;&lt;option value="bbq"&gt;ç‡’è‚‰ / æ—¥å¼çƒ¤è‚‰ / éŸ“å¼çƒ¤è‚‰&lt;/option&gt;&lt;option value="steak"&gt;ç‰›æ’ / éµæ¿ç‡’&lt;/option&gt;&lt;option value="buffet"&gt;åƒåˆ°é£½ (Buffet)&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="ğŸœ å°å¼èˆ‡ä¸­å¼"&gt;&lt;option value="taiwanese_snack"&gt;å°ç£å°åƒ / è·¯é‚Šæ”¤&lt;/option&gt;&lt;option value="beef_noodle"&gt;ç‰›è‚‰éºµ&lt;/option&gt;&lt;option value="rechao"&gt;æµ·é®®ç†±ç‚’ / åˆèœ&lt;/option&gt;&lt;option value="hot_soup"&gt;æ»·å‘³ / é¹½é…¥é› / å®µå¤œ&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="ğŸ£ æ—¥å¼æ–™ç†"&gt;&lt;option value="ramen"&gt;æ—¥å¼æ‹‰éºµ / çƒé¾éºµ&lt;/option&gt;&lt;option value="sushi"&gt;å£½å¸ / ç”Ÿé­šç‰‡ / ä¸¼é£¯&lt;/option&gt;&lt;option value="izakaya"&gt;å±…é…’å±‹ / ä¸²ç‡’&lt;/option&gt;&lt;option value="curry"&gt;æ—¥å¼å’–å“© / å®šé£Ÿ&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="ğŸŒ ç•°åœ‹é¢¨å‘³"&gt;&lt;option value="korean"&gt;éŸ“å¼æ–™ç† / ç‚¸é›&lt;/option&gt;&lt;option value="thai_viet"&gt;æ³°å¼ / è¶Šå¼æ–™ç†&lt;/option&gt;&lt;option value="american"&gt;ç¾å¼æ¼¢å ¡ / ç‚¸ç‰©&lt;/option&gt;&lt;option value="italian"&gt;ç¾©å¼æ–™ç† / æŠ«è–© / ç¾©å¤§åˆ©éºµ&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="â˜• æ”¾é¬†æ™‚åˆ»"&gt;&lt;option value="brunch"&gt;æ—©åˆé¤ (Brunch)&lt;/option&gt;&lt;option value="cafe"&gt;å’–å•¡å»³ / ä¸‹åˆèŒ¶ / ç”œé»&lt;/option&gt;&lt;option value="bistro"&gt;é¤é…’é¤¨ / Bar&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;optgroup label="ğŸ¥¬ å…¶ä»–"&gt;&lt;option value="vegetarian"&gt;ç´ é£Ÿ / è”¬é£Ÿ&lt;/option&gt;&lt;option value="healthy"&gt;å¥åº·é¤ç›’ / è¼•é£Ÿ&lt;/option&gt;&lt;/optgroup&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group full-width"&gt;&lt;label&gt;ğŸ‘¥ äººæ•¸&lt;/label&gt;&lt;div class="input-box"&gt;&lt;select id="people"&gt;&lt;option selected&gt;1~2 äºº&lt;/option&gt;&lt;option&gt;2~4 äºº&lt;/option&gt;&lt;option&gt;4~6 äºº&lt;/option&gt;&lt;option&gt;6 äººä»¥ä¸Š&lt;/option&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group full-width"&gt;&lt;label&gt;ğŸ¯ ç”¨é¤ç›®çš„&lt;/label&gt;&lt;div class="input-box"&gt;&lt;select id="purpose"&gt;&lt;option&gt;ğŸ¤·â€â™‚ï¸ ä¸æ‹˜ (éš¨æ„åƒåƒ)&lt;/option&gt;&lt;option&gt;ğŸ‘¯ æœ‹å‹èšé¤ (ç†±é¬§)&lt;/option&gt;&lt;option&gt;ğŸ’‘ æƒ…ä¾¶ç´„æœƒ (æ°£æ°›)&lt;/option&gt;&lt;option&gt;ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶åº­èšæœƒ (é•·è¼©/å°å­©)&lt;/option&gt;&lt;option&gt;ğŸ§˜ ä¸€äººç¨äº« (å®‰éœ)&lt;/option&gt;&lt;option&gt;ğŸ’¼ å•†å‹™å®´è«‹ (æ­£å¼)&lt;/option&gt;&lt;option&gt;ğŸŒ™ å®µå¤œå ´ (æ·±å¤œ)&lt;/option&gt;&lt;option&gt;ğŸ“¸ IGæ‰“å¡/ç¶²ç¾åº—&lt;/option&gt;&lt;option&gt;âš¡ å¿«é€Ÿè§£æ±º (è¶•æ™‚é–“)&lt;/option&gt;&lt;option&gt;ğŸ‰ æ…¶ç”Ÿ/ç´€å¿µæ—¥&lt;/option&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group full-width"&gt;&lt;label&gt;ğŸ’° é ç®—ç¯„åœ&lt;/label&gt;&lt;div class="input-box"&gt;&lt;select id="budget"&gt;&lt;option value="low"&gt;ğŸ’µ å¹³åƒ¹ (&amp;lt;$300)&lt;/option&gt;&lt;option value="mid"&gt;ğŸ’µğŸ’µ ä¸­åƒ¹ä½ ($300ï½$800)&lt;/option&gt;&lt;option value="high"&gt;ğŸ’µğŸ’µğŸ’µ é«˜ç´š (&amp;gt;$800)&lt;/option&gt;&lt;option value="luxury"&gt;ğŸ’ é ‚ç´šå¥¢è¯ (&amp;gt;$2000)&lt;/option&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group full-width"&gt;&lt;div class="toggle-row"&gt;&lt;div id="btn-hidden" class="toggle-btn" onclick="this.classList.toggle('selected')"&gt;ğŸ¤« éš±è—ç‰ˆ&lt;/div&gt;&lt;div id="btn-open" class="toggle-btn" onclick="this.classList.toggle('selected')"&gt;ğŸ•’ ç‡Ÿæ¥­ä¸­&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="footer-action"&gt;&lt;button id="search-btn" class="cta-button" onclick="handleSearchClick()"&gt;é–‹å§‹æ¢ç´¢ç¾é£Ÿ&lt;/button&gt;&lt;div id="usage-text" class="usage-hint"&gt;ä»Šæ—¥å‰©é¤˜æ¬¡æ•¸ï¼š-- æ¬¡&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="loader"&gt;&lt;div class="spinner"&gt;&lt;/div&gt;&lt;p style="color:white; font-weight:bold;"&gt;æ­£åœ¨ç©¿æ¢­å··å¼„ä¸­...&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="swiper-overlay"&gt;&lt;div id="round-info"&gt;&lt;/div&gt;&lt;div class="card-stack" id="stack"&gt;&lt;/div&gt;&lt;button class="close-swiper" onclick="resetUI()"&gt;â† è¿”å›èª¿æ•´&lt;/button&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const DAILY_LIMIT = 15;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- èƒŒæ™¯è¼ªæ’­ (100% å®Œæ•´ä¿ç•™) --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const images = ['https://images.unsplash.com/photo-1555939594-58d7cb561ad1', 'https://images.unsplash.com/photo-1594046243098-0fceea9d451e', 'https://images.unsplash.com/photo-1563245372-f21724e3856d', 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd', 'https://images.unsplash.com/photo-1504674900247-0877df9cc836', 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38'];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const bg = document.getElementById('bg-container');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>images.forEach((url, i) =&gt; { const div = document.createElement('div'); div.className = 'bg-slide' + (i===0?' active':''); div.style.backgroundImage = `url('${url}?auto=format&amp;fit=crop&amp;w=1200')`; bg.appendChild(div); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>let slideIdx = 0; setInterval(() =&gt; { const s = document.querySelectorAll('.bg-slide'); s[slideIdx].classList.remove('active'); slideIdx = (slideIdx+1)%s.length; s[slideIdx].classList.add('active'); }, 6000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const cityData = { 'Taipei': ['å…¨å€', 'ä¸­æ­£å€', 'å¤§åŒå€', 'ä¸­å±±å€', 'æ¾å±±å€', 'å¤§å®‰å€', 'è¬è¯å€', 'ä¿¡ç¾©å€', 'å£«æ—å€', 'åŒ—æŠ•å€', 'å…§æ¹–å€', 'å—æ¸¯å€', 'æ–‡å±±å€'], 'NewTaipei': ['å…¨å€', 'æ¿æ©‹å€', 'ä¸‰é‡å€', 'ä¸­å’Œå€', 'æ°¸å’Œå€', 'æ–°èŠå€', 'æ–°åº—å€', 'åœŸåŸå€', 'è˜†æ´²å€', 'æ¨¹æ—å€', 'é¶¯æ­Œå€', 'ä¸‰å³½å€', 'æ·¡æ°´å€', 'æ±æ­¢å€', 'ç‘èŠ³å€', 'äº”è‚¡å€', 'æ³°å±±å€', 'æ—å£å€', 'æ·±å‘å€', 'çŸ³ç¢‡å€', 'åªæ—å€', 'ä¸‰èŠå€', 'çŸ³é–€å€', 'å…«é‡Œå€', 'å¹³æºªå€', 'é›™æºªå€', 'è²¢å¯®å€', 'é‡‘å±±å€', 'è¬é‡Œå€', 'çƒä¾†å€'], 'Keelung': ['å…¨å€', 'ä»æ„›å€', 'ä¿¡ç¾©å€', 'ä¸­æ­£å€', 'ä¸­å±±å€', 'å®‰æ¨‚å€', 'æš–æš–å€', 'ä¸ƒå µå€'], 'Taoyuan': ['å…¨å€', 'æ¡ƒåœ’å€', 'ä¸­å£¢å€', 'å¹³é®å€', 'å…«å¾·å€', 'æ¥Šæ¢…å€', 'è˜†ç«¹å€', 'å¤§æºªå€', 'é¾æ½­å€', 'é¾œå±±å€', 'å¤§åœ’å€', 'è§€éŸ³å€', 'æ–°å±‹å€', 'å¾©èˆˆå€'], 'HsinchuCity': ['å…¨å€', 'æ±å€', 'åŒ—å€', 'é¦™å±±å€'], 'HsinchuCounty': ['å…¨å€', 'ç«¹åŒ—å¸‚', 'ç«¹æ±é®', 'æ–°åŸ”é®', 'é—œè¥¿é®', 'æ¹–å£é„‰', 'æ–°è±é„‰', 'å³¨çœ‰é„‰', 'å¯¶å±±é„‰', 'åŒ—åŸ”é„‰', 'æ©«å±±é„‰', 'èŠæ—é„‰', 'å°–çŸ³é„‰', 'äº”å³°é„‰'], 'Yilan': ['å…¨å€', 'å®œè˜­å¸‚', 'ç¾…æ±é®', 'è˜‡æ¾³é®', 'é ­åŸé®', 'ç¤æºªé„‰', 'å£¯åœé„‰', 'å“¡å±±é„‰', 'å†¬å±±é„‰', 'äº”çµé„‰', 'ä¸‰æ˜Ÿé„‰', 'å¤§åŒé„‰', 'å—æ¾³é„‰'], 'Miaoli': ['å…¨å€', 'è‹—æ —å¸‚', 'é ­ä»½å¸‚', 'ç«¹å—é®', 'å¾Œé¾é®', 'é€šéœ„é®', 'è‹‘è£¡é®', 'å“è˜­é®', 'é€ æ©‹é„‰', 'è¥¿æ¹–é„‰', 'é ­å±‹é„‰', 'å…¬é¤¨é„‰', 'éŠ…é‘¼é„‰', 'ä¸‰ç¾©é„‰', 'å¤§æ¹–é„‰', 'ç…æ½­é„‰', 'ä¸‰ç£é„‰', 'å—åº„é„‰', 'æ³°å®‰é„‰'], 'Taichung': ['å…¨å€', 'ä¸­å€', 'æ±å€', 'å—å€', 'è¥¿å€', 'åŒ—å€', 'åŒ—å±¯å€', 'è¥¿å±¯å€', 'å—å±¯å€', 'å¤ªå¹³å€', 'å¤§é‡Œå€', 'éœ§å³°å€', 'çƒæ—¥å€', 'è±åŸå€', 'å¾Œé‡Œå€', 'çŸ³å²¡å€', 'æ±å‹¢å€', 'å’Œå¹³å€', 'æ–°ç¤¾å€', 'æ½­å­å€', 'å¤§é›…å€', 'ç¥å²¡å€', 'å¤§è‚šå€', 'é¾äº•å€', 'æ¢§æ£²å€', 'æ¸…æ°´å€', 'å¤§ç”²å€', 'å¤–åŸ”å€', 'å¤§å®‰å€'], 'Changhua': ['å…¨å€', 'å½°åŒ–å¸‚', 'å“¡æ—å¸‚', 'å’Œç¾é®', 'é¹¿æ¸¯é®', 'æºªæ¹–é®', 'äºŒæ—é®', 'ç”°ä¸­é®', 'åŒ—æ–—é®', 'èŠ±å£‡é„‰', 'èŠ¬åœ’é„‰', 'å¤§æ‘é„‰', 'æ°¸é–é„‰', 'ä¼¸æ¸¯é„‰', 'ç·šè¥¿é„‰', 'ç¦èˆˆé„‰', 'ç§€æ°´é„‰', 'åŸ”å¿ƒé„‰', 'åŸ”é¹½é„‰', 'å¤§åŸé„‰', 'èŠ³è‹‘é„‰', 'ç«¹å¡˜é„‰', 'ç¤¾é ­é„‰', 'äºŒæ°´é„‰', 'æºªå·é„‰', 'ç”°å°¾é„‰', 'åŸ¤é ­é„‰'], 'Nantou': ['å…¨å€', 'å—æŠ•å¸‚', 'åŸ”é‡Œé®', 'è‰å±¯é®', 'ç«¹å±±é®', 'é›†é›†é®', 'åé–“é„‰', 'é¹¿è°·é„‰', 'ä¸­å¯®é„‰', 'é­šæ± é„‰', 'åœ‹å§“é„‰', 'æ°´é‡Œé„‰', 'ä¿¡ç¾©é„‰', 'ä»æ„›é„‰'], 'Yunlin': ['å…¨å€', 'æ–—å…­å¸‚', 'æ–—å—é®', 'è™å°¾é®', 'è¥¿èºé®', 'åœŸåº«é®', 'åŒ—æ¸¯é®', 'å¤å‘é„‰', 'å¤§åŸ¤é„‰', 'è¿æ¡é„‰', 'æ—å…§é„‰', 'äºŒå´™é„‰', 'å´™èƒŒé„‰', 'éº¥å¯®é„‰', 'æ±å‹¢é„‰', 'è¤’å¿ é„‰', 'å°è¥¿é„‰', 'å…ƒé•·é„‰', 'å››æ¹–é„‰', 'å£æ¹–é„‰', 'æ°´æ—é„‰'], 'ChiayiCity': ['å…¨å€', 'æ±å€', 'è¥¿å€'], 'ChiayiCounty': ['å…¨å€', 'å¤ªä¿å¸‚', 'æœ´å­å¸‚', 'å¸ƒè¢‹é®', 'å¤§æ—é®', 'æ°‘é›„é„‰', 'æºªå£é„‰', 'æ–°æ¸¯é„‰', 'å…­è…³é„‰', 'æ±çŸ³é„‰', 'ç¾©ç«¹é„‰', 'é¹¿è‰é„‰', 'æ°´ä¸Šé„‰', 'ä¸­åŸ”é„‰', 'ç«¹å´é„‰', 'æ¢…å±±é„‰', 'ç•ªè·¯é„‰', 'å¤§åŸ”é„‰', 'é˜¿é‡Œå±±é„‰'], 'Tainan': ['å…¨å€', 'ä¸­è¥¿å€', 'æ±å€', 'å—å€', 'åŒ—å€', 'å®‰å¹³å€', 'å®‰å—å€', 'æ°¸åº·å€', 'æ­¸ä»å€', 'æ–°åŒ–å€', 'ç‰äº•å€', 'ä»å¾·å€', 'é—œå»Ÿå€', 'å®˜ç”°å€', 'éº»è±†å€', 'ä½³é‡Œå€', 'æ–°ç‡Ÿå€', 'å–„åŒ–å€'], 'Kaohsiung': ['å…¨å€', 'æ¥ æ¢“å€', 'å·¦ç‡Ÿå€', 'é¼“å±±å€', 'ä¸‰æ°‘å€', 'é¹½åŸ•å€', 'å‰é‡‘å€', 'æ–°èˆˆå€', 'è‹“é›…å€', 'å‰é®å€', 'æ——æ´¥å€', 'å°æ¸¯å€', 'é³³å±±å€', 'å¤§å¯®å€', 'é³¥æ¾å€', 'æ—åœ’å€', 'ä»æ­¦å€', 'å¤§æ¨¹å€', 'å¤§ç¤¾å€', 'å²¡å±±å€', 'è·¯ç«¹å€', 'æ——å±±å€', 'ç¾æ¿ƒå€'], 'Pingtung': ['å…¨å€', 'å±æ±å¸‚', 'æ½®å·é®', 'æ±æ¸¯é®', 'æ†æ˜¥é®', 'è¬ä¸¹é„‰', 'é•·æ²»é„‰', 'é‡Œæ¸¯é„‰', 'å…§åŸ”é„‰', 'æ‹å¯®é„‰', 'è»ŠåŸé„‰'], 'Hualien': ['å…¨å€', 'èŠ±è“®å¸‚', 'é³³æ—é®', 'ç‰é‡Œé®', 'æ–°åŸé„‰', 'å‰å®‰é„‰', 'å£½è±é„‰', 'å…‰å¾©é„‰', 'ç‘ç©—é„‰'], 'Taitung': ['å…¨å€', 'å°æ±å¸‚', 'æˆåŠŸé®', 'é—œå±±é®', 'å‘å—é„‰', 'é¹¿é‡é„‰', 'æ± ä¸Šé„‰', 'ç¶ å³¶é„‰', 'è˜­å¶¼é„‰'], 'Penghu': ['å…¨å€', 'é¦¬å…¬å¸‚', 'æ¹–è¥¿é„‰', 'ç™½æ²™é„‰', 'è¥¿å¶¼é„‰'], 'Kinmen': ['å…¨å€', 'é‡‘åŸé®', 'é‡‘æ¹–é®', 'é‡‘æ²™é®', 'é‡‘å¯§é„‰'], 'Lienchiang': ['å…¨å€', 'å—ç«¿é„‰', 'åŒ—ç«¿é„‰', 'è’å…‰é„‰', 'æ±å¼•é„‰'] };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function updateDistricts() { const city = document.getElementById('city').value; const distSelect = document.getElementById('district'); distSelect.innerHTML = cityData[city].map(d =&gt; `&lt;option value="${d}"&gt;${d}&lt;/option&gt;`).join(''); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>updateDistricts();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- äº¤é€šç«™é»è³‡æ–™åº« (100% å®Œæ•´ä¿ç•™) --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const mrtLinesTaipei = { 'æ¿å—ç·š (BL)': ['é¾å±±å¯º', 'è¥¿é–€', 'å°åŒ—è»Šç«™', 'å–„å°å¯º', 'å¿ å­æ–°ç”Ÿ', 'å¿ å­å¾©èˆˆ', 'å¿ å­æ•¦åŒ–', 'åœ‹çˆ¶ç´€å¿µé¤¨', 'å¸‚æ”¿åºœ', 'æ°¸æ˜¥', 'å¾Œå±±åŸ¤', 'æ˜†é™½', 'å—æ¸¯', 'å—æ¸¯å±•è¦½é¤¨'], 'æ·¡æ°´ä¿¡ç¾©ç·š (R)': ['è±¡å±±', 'å°åŒ—101/ä¸–è²¿', 'ä¿¡ç¾©å®‰å’Œ', 'å¤§å®‰', 'å¤§å®‰æ£®æ—å…¬åœ’', 'æ±é–€', 'ä¸­æ­£ç´€å¿µå ‚', 'å°å¤§é†«é™¢', 'å°åŒ—è»Šç«™', 'ä¸­å±±', 'é›™é€£', 'æ°‘æ¬Šè¥¿è·¯', 'åœ“å±±', 'åŠæ½­', 'å£«æ—', 'èŠå±±', 'æ˜å¾·', 'çŸ³ç‰Œ', 'å”­å“©å²¸', 'å¥‡å²©', 'åŒ—æŠ•', 'æ–°åŒ—æŠ•', 'å¾©èˆˆå´—', 'å¿ ç¾©', 'é—œæ¸¡'], 'æ¾å±±æ–°åº—ç·š (G)': ['æ™¯ç¾', 'è¬éš†', 'å…¬é¤¨', 'å°é›»å¤§æ¨“', 'å¤äº­', 'ä¸­æ­£ç´€å¿µå ‚', 'å°å—é–€', 'è¥¿é–€', 'åŒ—é–€', 'ä¸­å±±', 'æ¾æ±Ÿå—äº¬', 'å—äº¬å¾©èˆˆ', 'å°åŒ—å°å·¨è›‹', 'å—äº¬ä¸‰æ°‘', 'æ¾å±±'], 'ä¸­å’Œæ–°è˜†ç·š (O)': ['å¤äº­', 'æ±é–€', 'å¿ å­æ–°ç”Ÿ', 'æ¾æ±Ÿå—äº¬', 'è¡Œå¤©å®®', 'ä¸­å±±åœ‹å°', 'æ°‘æ¬Šè¥¿è·¯', 'å¤§æ©‹é ­'], 'æ–‡æ¹–ç·š (BR)': ['å‹•ç‰©åœ’', 'æœ¨æŸµ', 'è¬èŠ³ç¤¾å€', 'è¬èŠ³é†«é™¢', 'è¾›äº¥', 'éºŸå…‰', 'å…­å¼µçŠ', 'ç§‘æŠ€å¤§æ¨“', 'å¤§å®‰', 'å¿ å­å¾©èˆˆ', 'å—äº¬å¾©èˆˆ', 'ä¸­å±±åœ‹ä¸­', 'æ¾å±±æ©Ÿå ´', 'å¤§ç›´', 'åŠå—è·¯', 'è¥¿æ¹–', 'æ¸¯å¢˜', 'æ–‡å¾·', 'å…§æ¹–', 'å¤§æ¹–å…¬åœ’', 'è‘«æ´²', 'æ±æ¹–', 'å—æ¸¯è»Ÿé«”åœ’å€', 'å—æ¸¯å±•è¦½é¤¨'] };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const mrtLinesNewTaipei = { 'æ¿å—ç·š (BL)': ['é ‚åŸ”', 'æ°¸å¯§', 'åœŸåŸ', 'æµ·å±±', 'äºæ±é†«é™¢', 'åºœä¸­', 'æ¿æ©‹', 'æ–°åŸ”', 'æ±Ÿå­ç¿ '], 'æ·¡æ°´ä¿¡ç¾©ç·š (R)': ['ç«¹åœ', 'ç´…æ¨¹æ—', 'æ·¡æ°´'], 'æ¾å±±æ–°åº—ç·š (G)': ['æ–°åº—', 'æ–°åº—å€å…¬æ‰€', 'ä¸ƒå¼µ', 'å¤§åªæ—'], 'ä¸­å’Œæ–°è˜†ç·š (O)': ['å—å‹¢è§’', 'æ™¯å®‰', 'æ°¸å®‰å¸‚å ´', 'é ‚æºª', 'ä¸‰é‡åœ‹å°', 'ä¸‰å’Œåœ‹ä¸­', 'å¾åŒ¯ä¸­å­¸', 'ä¸‰æ°‘é«˜ä¸­', 'è˜†æ´²', 'å°åŒ—æ©‹', 'èœå¯®', 'ä¸‰é‡', 'å…ˆå—‡å®®', 'é ­å‰åº„', 'æ–°èŠ', 'è¼”å¤§', 'ä¸¹é³³', 'è¿´é¾'], 'ç’°ç‹€ç·š (Y)': ['å¤§åªæ—', 'åå››å¼µ', 'ç§€æœ—æ©‹', 'æ™¯å¹³', 'æ™¯å®‰', 'ä¸­å’Œ', 'æ©‹å’Œ', 'ä¸­åŸ', 'æ¿æ–°', 'æ¿æ©‹', 'æ–°åŸ”æ°‘ç”Ÿ', 'é ­å‰åº„', 'å¹¸ç¦', 'æ–°åŒ—ç”¢æ¥­åœ’å€'] };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const mrtLinesTaoyuan = { 'æ©Ÿå ´æ·é‹ (A)': ['å°åŒ—è»Šç«™', 'ä¸‰é‡', 'æ–°åŒ—ç”¢æ¥­åœ’å€', 'æ–°èŠå‰¯éƒ½å¿ƒ', 'æ³°å±±', 'æ³°å±±è²´å’Œ', 'é«”è‚²å¤§å­¸', 'é•·åºšé†«é™¢', 'æ—å£', 'å±±é¼»', 'å‘å£', 'æ©Ÿå ´ç¬¬ä¸€èˆªå»ˆ', 'æ©Ÿå ´ç¬¬äºŒèˆªå»ˆ', 'æ©Ÿå ´æ—…é¤¨', 'å¤§åœ’', 'æ©«å±±', 'é ˜èˆª', 'é«˜éµæ¡ƒåœ’ç«™', 'æ¡ƒåœ’é«”è‚²åœ’å€', 'èˆˆå—', 'ç’°åŒ—', 'è€è¡—æºª'] };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const mrtLinesTaichung = { 'ç¶ ç·š': ['åŒ—å±¯ç¸½ç«™', 'èˆŠç¤¾', 'æ¾ç«¹', 'å››ç¶­åœ‹å°', 'æ–‡å¿ƒå´‡å¾·', 'æ–‡å¿ƒä¸­æ¸…', 'æ–‡è¯é«˜ä¸­', 'æ–‡å¿ƒæ«»èŠ±', 'å¸‚æ”¿åºœ', 'æ°´å®‰å®®', 'æ–‡å¿ƒæ£®æ—å…¬åœ’', 'å—å±¯', 'è±æ¨‚å…¬åœ’', 'å¤§æ…¶', 'ä¹å¼µçŠ', 'ä¹å¾·', 'çƒæ—¥', 'é«˜éµå°ä¸­ç«™'] };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const mrtLinesKaohsiung = { 'ç´…ç·š (R)': ['å°æ¸¯', 'é«˜é›„åœ‹éš›æ©Ÿå ´', 'è‰è¡™', 'å‰é®é«˜ä¸­', 'å‡±æ—‹', 'ç…ç”²', 'ä¸‰å¤šå•†åœˆ', 'ä¸­å¤®å…¬åœ’', 'ç¾éº—å³¶', 'é«˜é›„è»Šç«™', 'å¾Œé©›', 'å‡¹å­åº•', 'å·¨è›‹', 'ç”Ÿæ…‹åœ’å€', 'å·¦ç‡Ÿ', 'ä¸–é‹', 'æ²¹å» åœ‹å°', 'æ¥ æ¢“ç§‘æŠ€åœ’å€', 'å¾Œå‹', 'éƒ½æœƒå…¬åœ’', 'é’åŸ”', 'æ©‹é ­ç³–å» ', 'æ©‹é ­ç«è»Šç«™', 'å²¡å±±é«˜é†«', 'å²¡å±±è»Šç«™'], 'æ©˜ç·š (O)': ['å“ˆç‘ªæ˜Ÿ', 'é¹½åŸ•åŸ”', 'å‰é‡‘', 'ç¾éº—å³¶', 'ä¿¡ç¾©åœ‹å°', 'æ–‡åŒ–ä¸­å¿ƒ', 'äº”å¡Šå', 'è‹“é›…é‹å‹•åœ’å€', 'è¡›æ­¦ç‡Ÿ', 'é³³å±±è¥¿ç«™', 'é³³å±±', 'å¤§æ±', 'é³³å±±åœ‹ä¸­', 'å¤§å¯®'], 'è¼•è»Œ (C)': ['ç±¬ä»”å…§', 'å‡±æ—‹ç‘ç”°', 'å‰é®ä¹‹æ˜Ÿ', 'å‡±æ—‹ä¸­è¯', 'å¤¢æ™‚ä»£', 'ç¶“è²¿åœ’å€', 'è»Ÿé«”åœ’å€', 'é«˜é›„å±•è¦½é¤¨', 'æ—…é‹ä¸­å¿ƒ', 'å…‰æ¦®ç¢¼é ­', 'çœŸæ„›ç¢¼é ­', 'é§äºŒå¤§ç¾©', 'é§äºŒè“¬èŠ', 'å“ˆç‘ªæ˜Ÿ', 'å£½å±±å…¬åœ’', 'æ–‡æ­¦è–æ®¿', 'é¼“å±±å€å…¬æ‰€', 'é¼“å±±', 'é¦¬å¡é“', 'å°éµç¾è¡“é¤¨', 'ç¾è¡“é¤¨', 'è¯åˆé†«é™¢', 'é¾è¯åœ‹å°', 'æ„›æ²³ä¹‹å¿ƒ', 'æ–°ä¸Šåœ‹å°', 'ç£ä»”å…§', 'é«˜é›„é«˜å·¥', 'æ¨¹å¾·å®¶å•†', 'ç§‘å·¥é¤¨', 'è–åŠŸé†«é™¢', 'å‡±æ—‹å…¬åœ’'] };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const mrtMap = { 'Taipei': { 'ä¸­æ­£å€': ['å°åŒ—è»Šç«™', 'å–„å°å¯º', 'å¿ å­æ–°ç”Ÿ', 'ä¸­æ­£ç´€å¿µå ‚', 'å¤äº­', 'è¥¿é–€', 'å°å¤§é†«é™¢'], 'è¬è¯å€': ['è¥¿é–€', 'é¾å±±å¯º'], 'å¤§å®‰å€': ['å¿ å­å¾©èˆˆ', 'å¿ å­æ•¦åŒ–', 'åœ‹çˆ¶ç´€å¿µé¤¨', 'ä¿¡ç¾©å®‰å’Œ', 'å¤§å®‰', 'ç§‘æŠ€å¤§æ¨“', 'å…­å¼µçŠ', 'å…¬é¤¨', 'æ±é–€'], 'ä¿¡ç¾©å€': ['å¸‚æ”¿åºœ', 'æ°¸æ˜¥', 'å¾Œå±±åŸ¤', 'è±¡å±±', 'å°åŒ—101/ä¸–è²¿'], 'ä¸­å±±å€': ['ä¸­å±±', 'é›™é€£', 'æ°‘æ¬Šè¥¿è·¯', 'åœ“å±±', 'æ¾æ±Ÿå—äº¬', 'è¡Œå¤©å®®', 'ä¸­å±±åœ‹å°', 'å¤§ç›´', 'åŠå—è·¯'], 'æ¾å±±å€': ['å—äº¬å¾©èˆˆ', 'å°åŒ—å°å·¨è›‹', 'å—äº¬ä¸‰ä¸‰æ°‘', 'æ¾å±±'], 'å¤§åŒå€': ['å¤§æ©‹é ­', 'ä¸­å±±', 'åœ“å±±', 'æ°‘æ¬Šè¥¿è·¯'], 'å£«æ—å€': ['åŠæ½­', 'å£«æ—', 'èŠå±±', 'æ˜å¾·'], 'åŒ—æŠ•å€': ['çŸ³ç‰Œ', 'å”­å“©å²¸', 'å¥‡å²©', 'åŒ—æŠ•', 'æ–°åŒ—æŠ•', 'å¾©èˆˆå´—', 'é—œæ¸¡'], 'å…§æ¹–å€': ['è¥¿æ¹–', 'æ¸¯å¢˜', 'æ–‡å¾·', 'å…§æ¹–', 'å¤§æ¹–å…¬åœ’', 'è‘«æ´²', 'æ±æ¹–'], 'å—æ¸¯å€': ['å—æ¸¯', 'å—æ¸¯å±•è¦½é¤¨', 'å—æ¸¯è»Ÿé«”åœ’å€', 'æ˜†é™½'], 'æ–‡å±±å€': ['å‹•ç‰©åœ’', 'æœ¨æŸµ', 'è¬èŠ³é†«é™¢', 'è¬èŠ³ç¤¾å€', 'æ™¯ç¾', 'è¬éš†'] }, 'NewTaipei': { 'æ¿æ©‹å€': ['æ¿æ©‹', 'åºœä¸­', 'æ–°åŸ”', 'æ±Ÿå­ç¿ ', 'äºæ±é†«é™¢'], 'ä¸‰é‡å€': ['ä¸‰é‡', 'èœå¯®', 'å°åŒ—æ©‹', 'ä¸‰é‡åœ‹å°', 'ä¸‰å’Œåœ‹ä¸­', 'å¾åŒ¯ä¸­å­¸'], 'ä¸­å’Œå€': ['æ™¯å®‰', 'å—å‹¢è§’', 'æ°¸å®‰å¸‚å ´', 'ä¸­å’Œ'], 'æ°¸å’Œå€': ['é ‚æºª', 'æ°¸å®‰å¸‚å ´'], 'æ–°èŠå€': ['æ–°èŠ', 'è¼”å¤§', 'ä¸¹é³³', 'è¿´é¾', 'é ­å‰åº„'], 'æ–°åº—å€': ['æ–°åº—', 'ä¸ƒå¼µ', 'å¤§åªæ—', 'å°ç¢§æ½­', 'æ–°åº—å€å…¬æ‰€'], 'æ·¡æ°´å€': ['æ·¡æ°´', 'ç´…æ¨¹æ—', 'ç«¹åœ'], 'æ—å£å€': ['æ—å£'] } };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const hsrMap = { 'Taipei': { 'ä¸­æ­£å€': ['é«˜éµå°åŒ—ç«™'], 'å—æ¸¯å€': ['é«˜éµå—æ¸¯ç«™'] }, 'NewTaipei': { 'æ¿æ©‹å€': ['é«˜éµæ¿æ©‹ç«™'] }, 'Taoyuan': { 'ä¸­å£¢å€': ['é«˜éµæ¡ƒåœ’ç«™'] }, 'HsinchuCounty': { 'ç«¹åŒ—å¸‚': ['é«˜éµæ–°ç«¹ç«™'] }, 'Miaoli': { 'å¾Œé¾é®': ['é«˜éµè‹—æ —ç«™'] }, 'Taichung': { 'çƒæ—¥å€': ['é«˜éµå°ä¸­ç«™'] }, 'Changhua': { 'ç”°ä¸­é®': ['é«˜éµå½°åŒ–ç«™'] }, 'Yunlin': { 'è™å°¾é®': ['é«˜éµé›²æ—ç«™'] }, 'ChiayiCounty': { 'å¤ªä¿å¸‚': ['é«˜éµå˜‰ç¾©ç«™'] }, 'Tainan': { 'æ­¸ä»å€': ['é«˜éµå°å—ç«™'] }, 'Kaohsiung': { 'å·¦ç‡Ÿå€': ['é«˜éµå·¦ç‡Ÿç«™'] } };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const trainMap = { 'Keelung': { 'ä»æ„›å€': ['åŸºéš†'], 'æš–æš–å€': ['å…«å µ'], 'ä¸ƒå µå€': ['ä¸ƒå µ'] }, 'Taipei': { 'ä¸­æ­£å€': ['å°åŒ—'], 'è¬è¯å€': ['è¬è¯'], 'æ¾å±±å€': ['æ¾å±±'], 'å—æ¸¯å€': ['å—æ¸¯'] }, 'NewTaipei': { 'æ¿æ©‹å€': ['æ¿æ©‹'], 'æ±æ­¢å€': ['æ±æ­¢', 'æ±ç§‘'], 'æ¨¹æ—å€': ['æ¨¹æ—'], 'é¶¯æ­Œå€': ['é¶¯æ­Œ'], 'ç‘èŠ³å€': ['ç‘èŠ³'] }, 'Taoyuan': { 'æ¡ƒåœ’å€': ['æ¡ƒåœ’'], 'ä¸­å£¢å€': ['ä¸­å£¢'], 'æ¥Šæ¢…å€': ['æ¥Šæ¢…'] }, 'Taichung': { 'ä¸­å€': ['å°ä¸­'], 'çƒæ—¥å€': ['æ–°çƒæ—¥'], 'è±åŸå€': ['è±åŸ'] }, 'Tainan': { 'æ±å€': ['å°å—'], 'æ°¸åº·å€': ['æ°¸åº·'] }, 'Kaohsiung': { 'ä¸‰æ°‘å€': ['é«˜é›„'], 'å·¦ç‡Ÿå€': ['æ–°å·¦ç‡Ÿ'], 'é³³å±±å€': ['é³³å±±'] }, 'Hualien': { 'èŠ±è“®å¸‚': ['èŠ±è“®'] }, 'Taitung': { 'å°æ±å¸‚': ['å°æ±'] } };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const airportMap = { 'Taipei': { 'æ¾å±±å€': ['å°åŒ—æ¾å±±æ©Ÿå ´'] }, 'Taoyuan': { 'å¤§åœ’å€': ['æ¡ƒåœ’åœ‹éš›æ©Ÿå ´'] }, 'Taichung': { 'æ²™é¹¿å€': ['å°ä¸­åœ‹éš›æ©Ÿå ´'] }, 'Kaohsiung': { 'å°æ¸¯å€': ['é«˜é›„å°æ¸¯æ©Ÿå ´'] }, 'Penghu': { 'æ¹–è¥¿é„‰': ['æ¾æ¹–æ©Ÿå ´'] }, 'Kinmen': { 'é‡‘æ¹–é®': ['é‡‘é–€æ©Ÿå ´'] }, 'Lienchiang': { 'å—ç«¿é„‰': ['é¦¬ç¥–å—ç«¿æ©Ÿå ´'] }, 'Taitung': { 'å°æ±å¸‚': ['å°æ±æ©Ÿå ´'] } };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function checkTransAvailability() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const city = document.getElementById('city').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const district = document.getElementById('district').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const transport = document.getElementById('transport').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const mrtSec = document.getElementById('mrt-section');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const mrtSel = document.getElementById('mrt-station');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const label = document.getElementById('trans-label');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (transport === 'none') { mrtSec.style.display = 'none'; return; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>mrtSec.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (transport === 'mrt') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>label.innerText = "ğŸš‡ æŒ‡å®šæ·é‹ç«™ (ä¾ç·šè·¯åˆ†é¡)";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>let linesData = (city === 'Taipei' ? mrtLinesTaipei : (city === 'NewTaipei' ? mrtLinesNewTaipei : (city === 'Taoyuan' ? mrtLinesTaoyuan : (city === 'Taichung' ? mrtLinesTaichung : (city === 'Kaohsiung' ? mrtLinesKaohsiung : null)))));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if (district === 'å…¨å€' &amp;&amp; linesData) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>let html = '&lt;option value=""&gt;--- è«‹é¸æ“‡æ·é‹ç«™ ---&lt;/option&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>for (const line in linesData) { html += `&lt;optgroup label="${line}"&gt;`; linesData[line].forEach(s =&gt; html += `&lt;option value="${s}"&gt;${s}ç«™&lt;/option&gt;`); html += `&lt;/optgroup&gt;`; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>mrtSel.innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>} else if (mrtMap[city] &amp;&amp; mrtMap[city][district]) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>mrtSel.innerHTML = '&lt;option value=""&gt;--- è«‹é¸æ“‡ ---&lt;/option&gt;' + mrtMap[city][district].map(s =&gt; `&lt;option value="${s}"&gt;${s}ç«™&lt;/option&gt;`).join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>} else { mrtSel.innerHTML = '&lt;option value=""&gt;è©²å€æš«ç„¡æ·é‹ç«™&lt;/option&gt;'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>let currentMap = (transport === 'train' ? trainMap : (transport === 'hsr' ? hsrMap : airportMap));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>label.innerText = `ğŸš‰ æŒ‡å®š${transport === 'train' ? 'ç«è»Š' : (transport === 'hsr' ? 'é«˜éµ' : 'æ©Ÿå ´')}ç«™`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if (currentMap[city]) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>let list = (district === 'å…¨å€' ? Object.values(currentMap[city]).flat() : (currentMap[city][district] || []));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>list = [...new Set(list)].sort();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>mrtSel.innerHTML = '&lt;option value=""&gt;--- è«‹é¸æ“‡ ---&lt;/option&gt;' + list.map(s =&gt; `&lt;option value="${s}"&gt;${s}${s.includes('æ©Ÿå ´')?'':'ç«™'}&lt;/option&gt;`).join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>} else { mrtSel.innerHTML = '&lt;option value=""&gt;è©²å€æš«ç„¡ç«™é»&lt;/option&gt;'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- æ ¸å¿ƒé‚è¼¯ (ä½¿ç”¨ localStorage èˆ‡ Vercel API) --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>window.onload = function() { updateUsageDisplay(); };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function updateUsageDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const today = new Date().toLocaleDateString();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const lastDate = localStorage.getItem('LAST_USE_DATE');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let usageCount = parseInt(localStorage.getItem('USAGE_COUNT') || '0');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (lastDate !== today) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>usageCount = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>localStorage.setItem('LAST_USE_DATE', today);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>localStorage.setItem('USAGE_COUNT', '0');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const remaining = Math.max(0, DAILY_LIMIT - usageCount);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('usage-text').innerText = `ä»Šæ—¥å‰©é¤˜æ¬¡æ•¸ï¼š${remaining} æ¬¡`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const btn = document.getElementById('search-btn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (remaining &lt;= 0) { btn.disabled = true; btn.innerText = "é¡åº¦å·²æ»¿"; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return remaining;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>async function handleSearchClick() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const remaining = updateUsageDisplay();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (remaining &lt;= 0) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const cityKey = document.getElementById('city').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const cityName = document.getElementById('city').options[document.getElementById('city').selectedIndex].text;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const transport = document.getElementById('transport').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const btn = document.getElementById('search-btn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const loader = document.getElementById('loader');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>// äº¤é€šé©—è­‰ (ä¿æŒ 100% é‚è¼¯)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const hasMRT = ['Taipei', 'NewTaipei', 'Taoyuan', 'Taichung', 'Kaohsiung'];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (transport === 'mrt' &amp;&amp; !hasMRT.includes(cityKey)) { alert(`âš ï¸ æŠ±æ­‰ï¼Œ${cityName} ç›®å‰æ²’æœ‰æ·é‹ç³»çµ±ã€‚`); return; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>btn.disabled = true; btn.innerText = "æœå°‹ä¸­..."; loader.style.display = 'flex';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const data = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>city: cityName, district: document.getElementById('district').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>food: document.getElementById('food').options[document.getElementById('food').selectedIndex].text,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>purpose: document.getElementById('purpose').options[document.getElementById('purpose').selectedIndex].text,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>budget: document.getElementById('budget').options[document.getElementById('budget').selectedIndex].text,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>people: document.getElementById('people').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>userTime: new Date().toLocaleString(),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>mrtStation: document.getElementById('mrt-station').value,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>filters: (document.getElementById('btn-hidden').classList.contains('selected') ? "éš±è—ç‰ˆ " : "") +<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>(document.getElementById('btn-open').classList.contains('selected') ? "ç‡Ÿæ¥­ä¸­ " : "") +<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>(document.getElementById('transport').options[document.getElementById('transport').selectedIndex].text)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const response = await fetch('/api/recommend', {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>body: JSON.stringify(data)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const res = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>loader.style.display = 'none'; btn.disabled = false; btn.innerText = "é–‹å§‹æ¢ç´¢ç¾é£Ÿ";</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if (res.error) { alert(res.error); return; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>// æ›´æ–°ä½¿ç”¨é‡</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>let usageCount = parseInt(localStorage.getItem('USAGE_COUNT') || '0');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>localStorage.setItem('USAGE_COUNT', (usageCount + 1).toString());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>updateUsageDisplay();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>renderCards(res);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>alert("ä¼ºæœå™¨ç¹å¿™ä¸­ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>loader.style.display = 'none'; btn.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- æ¸²æŸ“å¡ç‰‡èˆ‡æ»‘å‹•é‚è¼¯ (100% å®Œæ•´ä¿ç•™) --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>let currentLikedList = [], swipedCount = 0, cardsRemaining = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function renderCards(restaurants) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('main-ui').classList.add('blur-mode');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const stackContainer = document.getElementById('stack'); stackContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('swiper-overlay').style.display = 'flex';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>currentLikedList = []; swipedCount = 0; cardsRemaining = restaurants.length;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const info = document.getElementById('round-info');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>info.innerText = restaurants.length === 1 ? "æœ€çµ‚æ±ºé¸ï¼šå³æ±ºå®šå¿ƒæ„" : "å·¦å³æ»‘å‹•ç¯©é¸";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>restaurants.forEach((res) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const wrapper = document.createElement('div'); wrapper.className = 'swipe-card-wrapper';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const card = document.createElement('div'); card.className = 'swipe-card';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>card.innerHTML = `&lt;div class="stamp stamp-like"&gt;LIKE&lt;/div&gt;&lt;div class="stamp stamp-nope"&gt;PASS&lt;/div&gt;&lt;h3&gt;${res.name}&lt;/h3&gt;&lt;div class="card-badges"&gt;&lt;span class="card-badge badge-rating"&gt;â­ ${res.rating}&lt;/span&gt;&lt;span class="card-badge badge-price"&gt;ğŸ’° ${res.price}&lt;/span&gt;&lt;/div&gt;&lt;div class="info-row"&gt;&lt;span class="info-label"&gt;ğŸ•’ ç‡Ÿæ¥­&lt;/span&gt;&lt;span&gt;${res.hours}&lt;/span&gt;&lt;/div&gt;&lt;div class="info-row"&gt;&lt;span class="info-label"&gt;ğŸ”¥ æ‹›ç‰Œ&lt;/span&gt;&lt;span&gt;${res.signature}&lt;/span&gt;&lt;/div&gt;&lt;div class="card-summary"&gt;"${res.review_summary}"&lt;/div&gt;&lt;div class="info-row"&gt;&lt;span class="info-label"&gt;ğŸ’¡ æ¨è–¦&lt;/span&gt;&lt;span&gt;${res.reason}&lt;/span&gt;&lt;/div&gt;&lt;div class="info-row" style="opacity:0.6; font-size:0.75rem;"&gt;ğŸ“ ${res.address}&lt;/div&gt;&lt;a class="card-map-btn" href="https://www.google.com/maps/search/?api=1&amp;query=${encodeURIComponent(res.name + ' ' + res.address)}" target="_blank"&gt;ğŸ—ºï¸ é–‹å•Ÿ Google åœ°åœ–&lt;/a&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>wrapper.appendChild(card); stackContainer.appendChild(wrapper); initSwipe(card, wrapper, res, restaurants.length === 1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function initSwipe(el, wrapper, resData, isLastOne) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let startX, moveX = 0; let isDone = false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const likeStamp = el.querySelector('.stamp-like'); const nopeStamp = el.querySelector('.stamp-nope');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>el.addEventListener('touchstart', (e) =&gt; { if(isDone) return; startX = e.touches[0].clientX; el.style.transition = 'none'; });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>el.addEventListener('touchmove', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if(isDone) return; moveX = e.touches[0].clientX - startX;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>el.style.transform = `translateX(${moveX}px) rotate(${moveX/20}deg)`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>likeStamp.style.opacity = moveX &gt; 20 ? Math.min(moveX/100, 1) : 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>nopeStamp.style.opacity = moveX &lt; -20 ? Math.min(Math.abs(moveX)/100, 1) : 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>el.addEventListener('touchend', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if(isDone) return; el.style.transition = 'transform 0.4s ease, opacity 0.4s ease';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if(Math.abs(moveX) &gt; 100) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const dir = moveX &gt; 0 ? 1 : -1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if(isLastOne) { if(dir === 1) { el.style.transform = 'translateX(0)'; likeStamp.style.opacity = 1; isDone = true; } else resetUI(); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>else { if(dir === 1) currentLikedList.push(resData); el.style.transform = `translateX(${dir*150}%)`; setTimeout(() =&gt; { wrapper.remove(); swipedCount++; if(swipedCount === cardsRemaining) { if(currentLikedList.length &gt; 0) renderCards(currentLikedList); else resetUI(); } }, 300); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>} else { el.style.transform = 'translateX(0)'; likeStamp.style.opacity = 0; nopeStamp.style.opacity = 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function resetUI() { document.getElementById('swiper-overlay').style.display = 'none'; document.getElementById('main-ui').classList.remove('blur-mode'); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
